<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkillSwap Admin - Transactions</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              DEFAULT: '#6366f1',
              50: '#eef2ff',
              100: '#e0e7ff',
              200: '#c7d2fe',
              300: '#a5b4fc',
              400: '#818cf8',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca',
              800: '#3730a3',
              900: '#312e81',
              950: '#1e1b4b',
            },
            secondary: {
              DEFAULT: '#14b8a6',
              50: '#f0fdfa',
              100: '#ccfbf1',
              200: '#99f6e4',
              300: '#5eead4',
              400: '#2dd4bf',
              500: '#14b8a6',
              600: '#0d9488',
              700: '#0f766e',
              800: '#115e59',
              900: '#134e4a',
              950: '#042f2e',
            },
          },
        },
      },
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-200">
  <div class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-lg z-10 transition-all duration-300 ease-in-out transform" id="sidebar">
      <div class="flex flex-col h-full">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
          <div class="flex items-center justify-center space-x-2">
            <div class="bg-gradient-to-r from-primary-500 to-secondary-500 p-2 rounded-lg">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
              </svg>
            </div>
            <h1 class="text-xl font-semibold text-gray-800 dark:text-white">SkillSwap</h1>
          </div>
          <p class="text-xs text-center mt-1 text-gray-600 dark:text-gray-400">Admin Dashboard</p>
        </div>
        
        <nav class="flex-1 overflow-y-auto py-4">
          <ul class="space-y-1 px-3">
            <li class="font-medium text-sm text-gray-400 px-3 py-2 uppercase">Main</li>
            <li>
              <a href="index.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-home w-5 h-5 mr-3"></i>
                <span>Dashboard</span>
              </a>
            </li>
            <li>
              <a href="user-management.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-users w-5 h-5 mr-3"></i>
                <span>User Management</span>
              </a>
            </li>
            <li>
              <a href="skills-management.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-tools w-5 h-5 mr-3"></i>
                <span>Skills Management</span>
              </a>
            </li>
            <li>
              <a href="transactions.html" class="flex items-center text-primary-600 dark:text-primary-400 px-3 py-2 rounded-md bg-primary-50 dark:bg-gray-700">
                <i class="fas fa-exchange-alt w-5 h-5 mr-3"></i>
                <span>Transactions</span>
              </a>
            </li>
            <li>
              <a href="content-moderation.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-shield-alt w-5 h-5 mr-3"></i>
                <span>Content Moderation</span>
              </a>
            </li>
            
            <li class="font-medium text-sm text-gray-400 px-3 py-2 mt-6 uppercase">Analytics</li>
            <li>
              <a href="analytics.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-chart-line w-5 h-5 mr-3"></i>
                <span>Performance</span>
              </a>
            </li>
            <li>
              <a href="reports.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-file-alt w-5 h-5 mr-3"></i>
                <span>Reports</span>
              </a>
            </li>
            
            <li class="font-medium text-sm text-gray-400 px-3 py-2 mt-6 uppercase">Settings</li>
            <li>
              <a href="settings.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-cog w-5 h-5 mr-3"></i>
                <span>General Settings</span>
              </a>
            </li>
            <li>
              <a href="credit-settings.html" class="flex items-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md">
                <i class="fas fa-coins w-5 h-5 mr-3"></i>
                <span>Credit System</span>
              </a>
            </li>
          </ul>
        </nav>
        
        <div class="p-4 border-t border-gray-200 dark:border-gray-700">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <img src="/placeholder.svg?height=40&width=40" alt="Admin" class="h-10 w-10 rounded-full object-cover border-2 border-primary-500">
              <div>
                <h3 class="text-sm font-medium text-gray-800 dark:text-white">Admin User</h3>
                <p class="text-xs text-gray-500 dark:text-gray-400">Super Admin</p>
              </div>
            </div>
            <button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <div class="flex-1 ml-64">
      <!-- Top Navigation -->
      <header class="bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-10">
        <div class="flex items-center justify-between h-16 px-6">
          <div class="flex items-center space-x-4">
            <button id="sidebar-toggle" class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
            <h2 class="text-lg font-semibold text-gray-800 dark:text-white">Transaction Management</h2>
          </div>
          
          <div class="flex items-center space-x-4">
            <div class="relative">
              <input type="text" id="search-transactions" placeholder="Search transactions..." class="pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 w-64">
              <div class="absolute left-3 top-2.5 text-gray-400 dark:text-gray-500">
                <i class="fas fa-search"></i>
              </div>
            </div>
            
            <button id="refresh-btn" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400">
              <i class="fas fa-sync-alt"></i>
            </button>
            
            <button id="export-btn" class="flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors">
              <i class="fas fa-download mr-2"></i>
              Export
            </button>
            
            <div class="relative">
              <button class="relative p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400">
                <i class="fas fa-bell"></i>
                <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"></span>
              </button>
            </div>
            
            <div class="relative">
              <button class="flex items-center space-x-2 focus:outline-none">
                <img src="/placeholder.svg?height=32&width=32" alt="Admin" class="h-8 w-8 rounded-full object-cover border-2 border-primary-500">
                <span class="hidden md:block text-sm font-medium text-gray-800 dark:text-white">Admin User</span>
                <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Page Content -->
      <main class="p-6">
        <!-- Alert Banner -->
        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 dark:bg-yellow-900/20 dark:border-yellow-600">
          <div class="flex">
            <div class="flex-shrink-0">
              <i class="fas fa-exclamation-triangle text-yellow-400"></i>
            </div>
            <div class="ml-3">
              <p class="text-sm text-yellow-700 dark:text-yellow-200">
                There are currently <span id="disputed-count">2</span> disputed transactions that require your attention.
                <a href="#" class="font-medium underline text-yellow-700 dark:text-yellow-200 hover:text-yellow-600 dark:hover:text-yellow-100" id="view-disputes-btn">
                  Review now
                </a>
              </p>
            </div>
            <div class="ml-auto pl-3">
              <div class="-mx-1.5 -my-1.5">
                <button class="inline-flex bg-yellow-50 rounded-md p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 dark:bg-yellow-900/30 dark:hover:bg-yellow-900/50">
                  <span class="sr-only">Dismiss</span>
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
          <!-- Total Transactions -->
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-all duration-200 hover:shadow-lg overflow-hidden">
            <div class="pb-2">
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Transactions</p>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-1">
                  <span class="counter" data-target="8645">0</span>
                </h3>
                <p class="text-xs flex items-center mt-2 text-green-600 dark:text-green-400">
                  <i class="fas fa-arrow-up mr-1 text-xs"></i>
                  <span>18.2% from last month</span>
                </p>
              </div>
              <div class="p-3 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400">
                <i class="fas fa-exchange-alt text-xl"></i>
              </div>
            </div>
            <div class="mt-4">
              <div class="w-full bg-gray-200 rounded-full h-1 dark:bg-gray-700">
                <div class="bg-primary-600 h-1 rounded-full" style="width: 75%"></div>
              </div>
            </div>
          </div>
          
          <!-- Total Credits Issued -->
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-all duration-200 hover:shadow-lg overflow-hidden">
            <div class="pb-2">
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Credits Issued</p>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-1">
                  <span class="counter" data-target="134567">0</span>
                </h3>
                <p class="text-xs flex items-center mt-2 text-green-600 dark:text-green-400">
                  <i class="fas fa-arrow-up mr-1 text-xs"></i>
                  <span>12.7% from last month</span>
                </p>
              </div>
              <div class="p-3 rounded-full bg-secondary-50 text-secondary-600 dark:bg-secondary-900/20 dark:text-secondary-400">
                <i class="fas fa-credit-card text-xl"></i>
              </div>
            </div>
            <div class="mt-4">
              <div class="w-full bg-gray-200 rounded-full h-1 dark:bg-gray-700">
                <div class="bg-secondary-500 h-1 rounded-full" style="width: 68%"></div>
              </div>
            </div>
          </div>
          
          <!-- Credits Purchased -->
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-all duration-200 hover:shadow-lg overflow-hidden">
            <div class="pb-2">
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Credits Purchased</p>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-1">
                  <span class="counter" data-target="42890">0</span>
                </h3>
                <p class="text-xs flex items-center mt-2 text-green-600 dark:text-green-400">
                  <i class="fas fa-arrow-up mr-1 text-xs"></i>
                  <span>23.5% from last month</span>
                </p>
              </div>
              <div class="p-3 rounded-full bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400">
                <i class="fas fa-wallet text-xl"></i>
              </div>
            </div>
            <div class="mt-4">
              <div class="w-full bg-gray-200 rounded-full h-1 dark:bg-gray-700">
                <div class="bg-purple-500 h-1 rounded-full" style="width: 82%"></div>
              </div>
            </div>
          </div>
          
          <!-- Pending Transactions -->
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-all duration-200 hover:shadow-lg overflow-hidden">
            <div class="pb-2">
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Pending Transactions</p>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mt-1">
                  <span class="counter" data-target="24">0</span>
                </h3>
                <p class="text-xs flex items-center mt-2 text-yellow-600 dark:text-yellow-400">
                  <i class="fas fa-clock mr-1 text-xs"></i>
                  <span>Requires attention</span>
                </p>
              </div>
              <div class="p-3 rounded-full bg-yellow-50 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-400">
                <i class="fas fa-exclamation-triangle text-xl"></i>
              </div>
            </div>
            <div class="mt-4">
              <div class="w-full bg-gray-200 rounded-full h-1 dark:bg-gray-700">
                <div class="bg-yellow-500 h-1 rounded-full" style="width: 45%"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tabs for different views -->
        <div class="mb-6">
          <div class="flex justify-between items-center mb-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm">
              <div class="flex space-x-1 p-1">
                <button class="tab-btn px-4 py-2 text-sm font-medium rounded-md bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400" data-tab="all">All Transactions</button>
                <button class="tab-btn px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" data-tab="purchases">Credit Purchases</button>
                <button class="tab-btn px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" data-tab="exchanges">Service Exchanges</button>
                <button class="tab-btn px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" data-tab="disputes">Disputes</button>
              </div>
            </div>

            <div class="flex items-center space-x-2">
              <select id="status-filter" class="text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500">
                <option value="All">All Statuses</option>
                <option value="Completed">Completed</option>
                <option value="Pending">Pending</option>
                <option value="Processed">Processed</option>
                <option value="Disputed">Disputed</option>
                <option value="Failed">Failed</option>
              </select>

              <select id="type-filter" class="text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500">
                <option value="All">All Types</option>
                <option value="Credit Purchase">Credit Purchase</option>
                <option value="Service Exchange">Service Exchange</option>
                <option value="Service Provided">Service Provided</option>
                <option value="Refund">Refund</option>
              </select>

              <select id="date-filter" class="text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500">
                <option value="All">All Time</option>
                <option value="Today">Today</option>
                <option value="This Week">This Week</option>
                <option value="This Month">This Month</option>
              </select>

              <button id="filter-btn" class="p-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
                <i class="fas fa-filter"></i>
              </button>
            </div>
          </div>

          <!-- Tab Content -->
          <div class="tab-content" id="all-tab">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden">
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                  <thead class="bg-gray-50 dark:bg-gray-700/50">
                    <tr>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                        <button class="flex items-center font-medium">
                          ID <i class="fas fa-sort ml-1 text-gray-400"></i>
                        </button>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                        <button class="flex items-center font-medium">
                          User <i class="fas fa-sort ml-1 text-gray-400"></i>
                        </button>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Type</th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Service</th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                        <button class="flex items-center font-medium">
                          Amount <i class="fas fa-sort ml-1 text-gray-400"></i>
                        </button>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                        <button class="flex items-center font-medium">
                          Date <i class="fas fa-sort ml-1 text-gray-400"></i>
                        </button>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Status</th>
                      <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actions</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700" id="transactions-table-body">
                    <!-- Table rows will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
              <div class="flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-6 py-4">
                <div class="text-sm text-gray-500 dark:text-gray-400">
                  Showing <span id="showing-count" class="font-medium">8</span> of <span id="total-count" class="font-medium">8</span> transactions
                </div>
                <div class="flex items-center space-x-2">
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50" disabled>
                    Previous
                  </button>
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400 border border-primary-200 dark:border-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500">
                    1
                  </button>
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
                    2
                  </button>
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
                    3
                  </button>
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
                    Next
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-content hidden" id="purchases-tab">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden p-6">
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2">
                  <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Credit Purchase Trends</h3>
                  <div class="h-[350px]">
                    <canvas id="revenueChart"></canvas>
                  </div>
                </div>

                <div>
                  <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Payment Methods</h3>
                  <div class="h-[350px]">
                    <canvas id="paymentMethodChart"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-content hidden" id="exchanges-tab">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden p-6">
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                

                <div>
                  <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Transaction Types</h3>
                  <div class="h-[350px]">
                    <canvas id="transactionTypeChart"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-content hidden" id="disputes-tab">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden p-6">
              <div class="space-y-6">
                <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                  <div class="flex">
                    <div class="flex-shrink-0">
                      <i class="fas fa-exclamation-triangle text-red-400"></i>
                    </div>
                    <div class="ml-3">
                      <h3 class="text-sm font-medium text-red-800 dark:text-red-200">Attention Required</h3>
                      <div class="mt-2 text-sm text-red-700 dark:text-red-300">
                        <p>
                          There are <span id="disputes-count">2</span> disputed transactions that require your review. Please
                          address these issues promptly to maintain user satisfaction.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="disputes-container">
                  <!-- Dispute cards will be populated by JavaScript -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Transaction Detail Modal -->
        <div id="transaction-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
          <div class="flex items-center justify-center min-h-screen p-4 text-center sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
              <div class="absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"></div>
            </div>

            <div class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full">
              <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div id="transaction-detail-content">
                  <!-- Transaction detail content will be populated by JavaScript -->
                </div>
              </div>
              <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" id="close-modal-btn" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    // Sample data for transactions
    const transactions = [
       
      {
        id: "TX-9822",
        user: {
          name: "Michael Chen",
          email: "m.chen@example.com",
          avatar: "/placeholder.svg?height=32&width=32",
        },
        type: "Service Provided",
        service: "UI/UX Design",
        amount: 75,
        date: "2025-04-12T16:12:00",
        status: "Completed",
        paymentMethod: "Credits",
        notes: "5-star rating received",
      },
      {
        id: "TX-9821",
        user: {
          name: "Olivia Martinez",
          email: "o.martinez@example.com",
          avatar: "/placeholder.svg?height=32&width=32",
        },
        type: "Refund",
        service: "Photography",
        amount: 35,
        date: "2025-04-12T11:05:00",
        status: "Processed",
        paymentMethod: "Credits",
        notes: "Service cancellation",
      },
      {
        id: "TX-9820",
        user: {
          name: "James Wilson",
          email: "j.wilson@example.com",
          avatar: "/placeholder.svg?height=32&width=32",
        },
        type: "Credit Purchase",
        service: "Basic Plan",
        amount: 200,
        date: "2025-04-11T09:18:00",
        status: "Completed",
        paymentMethod: "PayPal",
        notes: "",
      },
    ];
     
    // Sample data for charts
    const revenueData = [
      { name: "Jan", value: 12500 },
      { name: "Feb", value: 15800 },
      { name: "Mar", value: 14200 },
      { name: "Apr", value: 18900 },
      { name: "May", value: 21500 },
      { name: "Jun", value: 25800 },
      { name: "Jul", value: 28400 },
      { name: "Aug", value: 27200 },
      { name: "Sep", value: 29800 },
      { name: "Oct", value: 32500 },
      { name: "Nov", value: 35800 },
      { name: "Dec", value: 38900 },
    ];

    const transactionTypeData = [
      { name: "Credit Purchase", value: 45 },
      { name: "Service Exchange", value: 30 },
      { name: "Service Provided", value: 20 },
      { name: "Refund", value: 5 },
    ];

    const transactionVolumeData = [
      { name: "Mon", credits: 320, cash: 240 },
      { name: "Tue", credits: 380, cash: 280 },
      { name: "Wed", credits: 420, cash: 340 },
      { name: "Thu", credits: 450, cash: 380 },
      { name: "Fri", credits: 520, cash: 460 },
      { name: "Sat", credits: 390, cash: 320 },
      { name: "Sun", credits: 280, cash: 220 },
    ];

    const paymentMethodData = [
      { name: "Credit Card", value: 55 },
      { name: "PayPal", value: 25 },
      { name: "Bank Transfer", value: 15 },
      { name: "Crypto", value: 5 },
    ];

    // Chart colors
    const COLORS = ["#6366f1", "#14b8a6", "#a855f7", "#f59e0b", "#ef4444"];

    // DOM elements
    const transactionsTableBody = document.getElementById('transactions-table-body');
    const disputesContainer = document.getElementById('disputes-container');
    const transactionModal = document.getElementById('transaction-modal');
    const transactionDetailContent = document.getElementById('transaction-detail-content');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const searchInput = document.getElementById('search-transactions');
    const statusFilter = document.getElementById('status-filter');
    const typeFilter = document.getElementById('type-filter');
    const dateFilter = document.getElementById('date-filter');
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    const viewDisputesBtn = document.getElementById('view-disputes-btn');
    const themeToggleBtn = document.getElementById('theme-toggle');
    const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.querySelector('.flex-1');
    const refreshBtn = document.getElementById('refresh-btn');
    const exportBtn = document.getElementById('export-btn');
    const filterBtn = document.getElementById('filter-btn');

    // Format date
    function formatDate(dateString) {
      const date = new Date(dateString);
      return new Intl.DateTimeFormat("en-US", {
        month: "short",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
      }).format(date);
    }

    // Status badge HTML
    function getStatusBadgeHTML(status) {
      const statusStyles = {
        Completed: "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-900/50",
        Pending: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 border-yellow-200 dark:border-yellow-900/50",
        Processed: "bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-900/50",
        Disputed: "bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-900/50",
        Failed: "bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-800",
      };

      const statusIcons = {
        Completed: '<i class="fas fa-check-circle mr-1"></i>',
        Pending: '<i class="fas fa-clock mr-1"></i>',
        Processed: '<i class="fas fa-sync-alt mr-1"></i>',
        Disputed: '<i class="fas fa-exclamation-triangle mr-1"></i>',
        Failed: '<i class="fas fa-times-circle mr-1"></i>',
      };

      return `<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${statusStyles[status]}">${statusIcons[status]}${status}</span>`;
    }

    // Type badge HTML
    function getTypeBadgeHTML(type) {
      const typeStyles = {
        "Credit Purchase": "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",
        "Service Exchange": "bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",
        "Service Provided": "bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",
        "Refund": "bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",
      };

      return `<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${typeStyles[type]}">${type}</span>`;
    }

    // Render transactions table
    function renderTransactionsTable(filteredTransactions) {
      transactionsTableBody.innerHTML = '';
      
      if (filteredTransactions.length === 0) {
        transactionsTableBody.innerHTML = `
          <tr>
            <td colspan="8" class="text-center py-8 text-gray-500 dark:text-gray-400">
              No transactions found matching your filters.
            </td>
          </tr>
        `;
        return;
      }
      
      filteredTransactions.forEach(transaction => {
        const row = document.createElement('tr');
        row.className = 'hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer';
        row.setAttribute('data-id', transaction.id);
        
        row.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-white">${transaction.id}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center space-x-3">
              <img class="h-8 w-8 rounded-full" src="${transaction.user.avatar}" alt="${transaction.user.name}">
              <div>
                <p class="text-sm font-medium text-gray-800 dark:text-white">${transaction.user.name}</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">${transaction.user.email}</p>
              </div>
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            ${getTypeBadgeHTML(transaction.type)}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${transaction.service}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium ${transaction.amount >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}">
            ${transaction.amount >= 0 ? '+' : ''}${transaction.amount} Credits
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${formatDate(transaction.date)}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            ${getStatusBadgeHTML(transaction.status)}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <div class="relative inline-block text-left">
              <button class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none">
                <i class="fas fa-ellipsis-h"></i>
              </button>
            </div>
          </td>
        `;
        
        transactionsTableBody.appendChild(row);
      });
      
      // Update counts
      document.getElementById('showing-count').textContent = filteredTransactions.length;
      document.getElementById('total-count').textContent = transactions.length;
    }

    // Render disputes
    function renderDisputes() {
      const disputedTransactions = transactions.filter(tx => tx.status === 'Disputed');
      disputesContainer.innerHTML = '';
      
      disputedTransactions.forEach(transaction => {
        const disputeCard = document.createElement('div');
        disputeCard.className = 'bg-white dark:bg-gray-800 rounded-lg shadow-md border border-red-200 dark:border-red-800';
        
        disputeCard.innerHTML = `
          <div class="bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 px-4 py-3">
            <div class="flex justify-between items-center">
              <h3 class="text-base font-medium text-gray-800 dark:text-white">Dispute #${transaction.id}</h3>
              ${getStatusBadgeHTML(transaction.status)}
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400">Reported on ${formatDate(transaction.date)}</p>
          </div>
          <div class="p-4">
            <div class="space-y-4">
              <div class="flex items-center space-x-3">
                <img class="h-10 w-10 rounded-full" src="${transaction.user.avatar}" alt="${transaction.user.name}">
                <div>
                  <p class="text-sm font-medium text-gray-800 dark:text-white">${transaction.user.name}</p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">${transaction.user.email}</p>
                </div>
              </div>

              <div>
                <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Service</h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">${transaction.service}</p>
              </div>

              <div>
                <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Issue</h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">${transaction.notes}</p>
              </div>

              <div>
                <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Amount</h4>
                <p class="text-sm font-medium text-red-600 dark:text-red-400">${transaction.amount} Credits</p>
              </div>
            </div>
          </div>
          <div class="flex justify-end space-x-2 border-t border-gray-200 dark:border-gray-700 p-4">
            <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
              Contact User
            </button>
            <button class="px-3 py-1 text-sm font-medium rounded-md bg-red-600 hover:bg-red-700 text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
              <i class="fas fa-flag mr-2"></i>
              Review Dispute
            </button>
          </div>
        `;
        
        disputesContainer.appendChild(disputeCard);
      });
      
      // Update dispute counts
      const disputeCount = disputedTransactions.length;
      document.getElementById('disputed-count').textContent = disputeCount;
      document.getElementById('disputes-count').textContent = disputeCount;
    }

    // Show transaction detail
    function showTransactionDetail(transactionId) {
      const transaction = transactions.find(tx => tx.id === transactionId);
      if (!transaction) return;
      
      transactionDetailContent.innerHTML = `
        <div class="space-y-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Transaction Details</h3>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Full information about transaction ${transaction.id}
              </p>
            </div>
            ${getStatusBadgeHTML(transaction.status)}
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="space-y-4">
              <div>
                <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">User Information</h4>
                <div class="mt-2 flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                  <img class="h-10 w-10 rounded-full" src="${transaction.user.avatar}" alt="${transaction.user.name}">
                  <div>
                    <p class="text-sm font-medium text-gray-900 dark:text-white">${transaction.user.name}</p>
                    <p class="text-xs text-gray-500 dark:text-gray-400">${transaction.user.email}</p>
                  </div>
                </div>
              </div>

              <div>
                <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Transaction Information</h4>
                <div class="mt-2 space-y-2">
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Transaction ID</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">${transaction.id}</span>
                  </div>
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Type</span>
                    ${getTypeBadgeHTML(transaction.type)}
                  </div>
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Service</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">${transaction.service}</span>
                  </div>
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Amount</span>
                    <span class="text-sm font-medium ${transaction.amount >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}">
                      ${transaction.amount >= 0 ? '+' : ''}${transaction.amount} Credits
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <div class="space-y-4">
              <div>
                <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Payment Details</h4>
                <div class="mt-2 space-y-2">
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Payment Method</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">${transaction.paymentMethod}</span>
                  </div>
                  <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
                    <span class="text-sm text-gray-500 dark:text-gray-400">Date</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">${formatDate(transaction.date)}</span>
                  </div>
                </div>
              </div>

              <div>
                <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Additional Information</h4>
                <div class="mt-2 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg min-h-[100px]">
                  <p class="text-sm text-gray-700 dark:text-gray-300">
                    ${transaction.notes || "No additional notes for this transaction."}
                  </p>
                </div>
              </div>

              <div class="flex space-x-2 justify-end">
                ${transaction.status === "Disputed" ? `
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-red-600 hover:bg-red-700 text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                    <i class="fas fa-flag mr-2"></i>
                    Review Dispute
                  </button>
                ` : ''}
                ${transaction.status === "Pending" ? `
                  <button class="px-3 py-1 text-sm font-medium rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500">
                    <i class="fas fa-times mr-2"></i>
                    Cancel
                  </button>
                ` : ''}
                <button class="px-3 py-1 text-sm font-medium rounded-md bg-primary-600 hover:bg-primary-700 text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                  <i class="fas fa-file-alt mr-2"></i>
                  Generate Receipt
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      transactionModal.classList.remove('hidden');
    }

    // Filter transactions
    function filterTransactions() {
      const searchTerm = searchInput.value.toLowerCase();
      const statusValue = statusFilter.value;
      const typeValue = typeFilter.value;
      const dateValue = dateFilter.value;
      
      return transactions.filter(transaction => {
        const matchesSearch = 
          transaction.id.toLowerCase().includes(searchTerm) ||
          transaction.user.name.toLowerCase().includes(searchTerm) ||
          transaction.user.email.toLowerCase().includes(searchTerm) ||
          transaction.service.toLowerCase().includes(searchTerm);
        
        const matchesStatus = statusValue === 'All' || transaction.status === statusValue;
        const matchesType = typeValue === 'All' || transaction.type === typeValue;
        
        // Simple date filter implementation
        let matchesDate = true;
        if (dateValue === 'Today') {
          const today = new Date();
          today.setHours(0, 0, 0, 0);
          const txDate = new Date(transaction.date);
          matchesDate = txDate >= today;
        } else if (dateValue === 'This Week') {
          const weekStart = new Date();
          weekStart.setDate(weekStart.getDate() - weekStart.getDay());
          weekStart.setHours(0, 0, 0, 0);
          const txDate = new Date(transaction.date);
          matchesDate = txDate >= weekStart;
        } else if (dateValue === 'This Month') {
          const monthStart = new Date();
          monthStart.setDate(1);
          monthStart.setHours(0, 0, 0, 0);
          const txDate = new Date(transaction.date);
          matchesDate = txDate >= monthStart;
        }
        
        return matchesSearch && matchesStatus && matchesType && matchesDate;
      });
    }

    // Initialize charts
    function initCharts() {
      // Revenue Chart
      const revenueCtx = document.getElementById('revenueChart').getContext('2d');
      new Chart(revenueCtx, {
        type: 'line',
        data: {
          labels: revenueData.map(item => item.name),
          datasets: [{
            label: 'Revenue',
            data: revenueData.map(item => item.value),
            borderColor: '#6366f1',
            backgroundColor: 'rgba(99, 102, 241, 0.1)',
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: true,
              position: 'top',
              labels: {
                usePointStyle: true,
                boxWidth: 6
              }
            },
            tooltip: {
              mode: 'index',
              intersect: false,
              callbacks: {
                label: function(context) {
                  let label = context.dataset.label || '';
                  if (label) {
                    label += ': ';
                  }
                  if (context.parsed.y !== null) {
                    label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y);
                  }
                  return label;
                }
              }
            }
          },
          scales: {
            x: {
              grid: {
                display: false
              }
            },
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return '$' + value.toLocaleString();
                }
              }
            }
          }
        }
      });

      // Payment Method Chart
      

      // Transaction Type Chart
      const transactionTypeCtx = document.getElementById('transactionTypeChart').getContext('2d');
      new Chart(transactionTypeCtx, {
        type: 'pie',
        data: {
          labels: transactionTypeData.map(item => item.name),
          datasets: [{
            data: transactionTypeData.map(item => item.value),
            backgroundColor: COLORS,
            borderWidth: 0,
            hoverOffset: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'right',
              labels: {
                usePointStyle: true,
                boxWidth: 6
              }
            }
          }
        }
      });
    }

    // Animated counters
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      const speed = 200; // The lower the faster
      
      counters.forEach(counter => {
        const target = +counter.getAttribute('data-target');
        const count = +counter.innerText;
        const increment = target / speed;
        
        if (count < target) {
          counter.innerText = Math.ceil(count + increment);
          setTimeout(() => animateCounters(), 1);
        } else {
          counter.innerText = target.toLocaleString();
        }
      });
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize
      renderTransactionsTable(transactions);
      renderDisputes();
      initCharts();
      animateCounters();
      
     
      
      // Sidebar toggle
      sidebarToggle.addEventListener('click', function() {
        if (sidebar.classList.contains('-translate-x-full')) {
          sidebar.classList.remove('-translate-x-full');
          mainContent.classList.remove('ml-0');
          mainContent.classList.add('ml-64');
        } else {
          sidebar.classList.add('-translate-x-full');
          mainContent.classList.remove('ml-64');
          mainContent.classList.add('ml-0');
        }
      });
      
      // Tab switching
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          // Remove active class from all buttons
          tabButtons.forEach(btn => {
            btn.classList.remove('bg-primary-50', 'text-primary-600', 'dark:bg-primary-900/20', 'dark:text-primary-400');
            btn.classList.add('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
          });
          
          // Add active class to clicked button
          button.classList.remove('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
          button.classList.add('bg-primary-50', 'text-primary-600', 'dark:bg-primary-900/20', 'dark:text-primary-400');
          
          // Hide all tab contents
          tabContents.forEach(content => {
            content.classList.add('hidden');
          });
          
          // Show selected tab content
          const tabId = button.getAttribute('data-tab');
          document.getElementById(`${tabId}-tab`).classList.remove('hidden');
        });
      });
      
      // View disputes button
      viewDisputesBtn.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Switch to disputes tab
        tabButtons.forEach(btn => {
          btn.classList.remove('bg-primary-50', 'text-primary-600', 'dark:bg-primary-900/20', 'dark:text-primary-400');
          btn.classList.add('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
          
          if (btn.getAttribute('data-tab') === 'disputes') {
            btn.classList.remove('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
            btn.classList.add('bg-primary-50', 'text-primary-600', 'dark:bg-primary-900/20', 'dark:text-primary-400');
          }
        });
        
        // Hide all tab contents
        tabContents.forEach(content => {
          content.classList.add('hidden');
        });
        
        // Show disputes tab
        document.getElementById('disputes-tab').classList.remove('hidden');
      });
      
      // Transaction row click
      transactionsTableBody.addEventListener('click', (e) => {
        const row = e.target.closest('tr');
        if (row) {
          const transactionId = row.getAttribute('data-id');
          showTransactionDetail(transactionId);
        }
      });
      
      // Close modal
      closeModalBtn.addEventListener('click', () => {
        transactionModal.classList.add('hidden');
      });
      
      // Close modal when clicking outside
      transactionModal.addEventListener('click', (e) => {
        if (e.target === transactionModal) {
          transactionModal.classList.add('hidden');
        }
      });
      
      // Search and filters
      searchInput.addEventListener('input', () => {
        const filteredTxs = filterTransactions();
        renderTransactionsTable(filteredTxs);
      });
      
      statusFilter.addEventListener('change', () => {
        const filteredTxs = filterTransactions();
        renderTransactionsTable(filteredTxs);
      });
      
      typeFilter.addEventListener('change', () => {
        const filteredTxs = filterTransactions();
        renderTransactionsTable(filteredTxs);
      });
      
      dateFilter.addEventListener('change', () => {
        const filteredTxs = filterTransactions();
        renderTransactionsTable(filteredTxs);
      });
      
      // Refresh button
      refreshBtn.addEventListener('click', () => {
        // Add a spinning animation
        refreshBtn.querySelector('i').classList.add('fa-spin');
        
        // Simulate refresh delay
        setTimeout(() => {
          renderTransactionsTable(transactions);
          refreshBtn.querySelector('i').classList.remove('fa-spin');
        }, 800);
      });
      
      // Export button
      exportBtn.addEventListener('click', () => {
        alert('Exporting transactions data...');
      });
    });
  </script>
</body>
</html>
